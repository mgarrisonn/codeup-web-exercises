<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weather Map Lecture</title>
</head>
<body>
<script
        src="http://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous"></script>

<script src="js/keys.js"></script>

<!-- keys for Mapbox and OpenWeatherMap -->


<script>

    "use strict";

    // send a request to OpenWeatherMap OneCall API

    var weatherUrl = 'https://api.openweathermap.org/data/2.5/onecall';
    var weatherOptions = {
        lat: 29.4241,
        lon: -98.4936,
        appid: OPEN_WEATHER_MAP_KEY,
        exclude: 'minutely, current, hourly',
        units: 'imperial',
        timezone: 'Chicago'
    };

    // function parseDate(timestamp) {
    //     return new Date(timestamp * 1000).toLocaleDateString();
    // }

    $.get(weatherUrl, weatherOptions).done(function(data) {
        console.log(data);
        console.log(data.daily[1].pressure);
        var todaysDate = new Date(data.daily[0].dt * 1000);
        console.log(todaysDate.toLocaleDateString()); // display the Unix Timestamp as a human readable date
    });
    </script>

<!--<script src="https://code.jquery.com/jquery-2.2.4.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script>-->
<!--<script src="../js/keys.js"></script>-->
<!--&lt;!&ndash;ADD JAVASCRIPT THAT SENDS AN AJAX REQUEST&ndash;&gt;-->
<!--<script>-->
<!--    'use strict';-->
<!--    // https://api.openweathermap.org/data/2.5/onecall?lat={lat}&lon={lon}&exclude={part}&appid={YOUR API KEY}//this is a query string(everything after the ?  these are things that you tailor to your needs.-->
<!--    var weatherUrl ='https://api.openweathermap.org/data/2.5/onecall';//where we are sending the request-->
<!--    ​-->
<!--    //before we send our request, define our options object: essentially, this is what is after the ? in the query string.-->
<!--    var weatherOptions = {-->
<!--        lat: 29.4241,-->
<!--        lon: -98.4936,-->
<!--        appid: OPEN_WEATHER_MAP_KEY,-->
<!--        exclude: 'minutely, current, hourly',-->
<!--        units: 'imperial'-->
<!--    };-->
<!--    //now make the request:-->
<!--    // $.get(weatherUrl, weatherOptions);//this way will auto concat things for me-->
<!--    $.get(weatherUrl, weatherOptions).done(function(data){-->
<!--        console.log(data);//should be back and object.  open it up and see what information you get.  this is how you tailor things to what I needs.  here, we just need the daily property.  so: add an exclude in the options object array above - exclude what you don't need-->
<!--    ​-->
<!--    })-->
<!--    //to get todays humidity:  data.daily[0].humidity; the zero represents the day.  zero being today.-->
<!--    //todays temp: data.daily[0].temp.max;-->
<!--    ​-->
<!--    //console.log different properties to understand what you're getting.-->
<!--    //check out the parameters of the API response page to customize for different units of measurement.  example - how to change temp measurement-->
<!--    //need to add units = imperial to object options.-->
<!--    ​-->
<!--    //if we find a properties we don't understand, look at the api's documentation.-->
<!--    //to convert a unix time stamp to human readable date format:  new Date(num * 1000); because its in miliseconds, we have to convert-->
<!--    //can convert to a string .toDateString();-->
<!--    //so :  var todaysDate = new Date(data.daily[0].dt * 1000).toDateString();-->
<!--    //create a function that that takes in a timestamp that takes in the logic-->
<!--    ​-->
<!--    function parseDate(timestamp){-->
<!--        return new Date(timestamp * 1000). toLocaleDateString();-->
<!--    }-->
<!--    console.log(parseDate(data.daily[0].dt))-->
<!--</script>-->



</body>
</html>